% This file is part of CoIoTeSolver.

% CoIoTeSolver is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.

% CoIoTeSolver is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
% GNU General Public License for more details.

% You should have received a copy of the GNU General Public License
% along with CoIoTeSolver. If not, see <http://www.gnu.org/licenses/>.

\documentclass[]{beamer}

\usepackage[light]{ubuntu} 		% Ubuntu font
\usepackage{bm} 					% Bold mathematical symbols
\usepackage{listings}				% Programming code
\usepackage{siunitx} 				% Units of measure
\usepackage{tabto}				% For inserting tabs

\usetheme[alternativetitlepage, titlepagelogo=Wile1, pageofpages=of, titleline]{Torino}
\usecolortheme{chameleon}

\definecolor{light-green}{HTML}{26BF18}
\definecolor{dark-gray}{gray}{0.11}

\newcommand{\hl}[1]{{\color[HTML]{26BF18} #1}}

\title{\textbf{\huge CoIote Solver}}
\author{\textbf{\textit{ \Large Team 39}}}
\institute{{\normalsize{Politecnico di Torino}} \\ Optimization Methods and Algorithms \\ A.Y. 2016/17}
\date{} %\date{\scriptsize{December 28, 2016}}

\logo{\includegraphics[height=35px]{Wile2}}
\usebackgroundtemplate{\includegraphics[width=\paperwidth,height=\paperheight]{Background}}

\begin{document}
\fontUbuntu

\lstset{ 
language=C++,
morekeywords={still_time},
%backgroundcolor=\color{light-green},
keywordstyle=\color{black},
rulecolor=\color{purple},
stringstyle=\color{purple},
identifierstyle=\color{dark-gray},
basicstyle=\scriptsize\ttfamily\bfseries,
emph=[1]{sequence, costs, available_users, cell_requests, solution, user_activities, n_users, cheaper, gain, current_move, new_move, best_solution, current_solution},
emphstyle=[1]{\color{black}},
emph=[2]{still_time, ten_times, shuffle, GREEDY, OPTIMIZE, is_feasible, each_cell_in, needed, find_cheaper, there_are, not_in_tabu_list, substitute, each_chosen_move, more_than_5th_recursion_level, insert_in_tabu_list, better_than, is_best, remove_from_tabu_list, each_thread},
emphstyle=[2]{\color{purple}},
emph=[3]{for, do, then, if, end, while, begin, body},
emphstyle=[3]{\color{light-green}},
showspaces=false, 
showstringspaces=false,
showtabs=false,
xleftmargin=0em,
tabsize=4,
aboveskip=0em,
belowskip=1em,
}

\begin{frame}[t, plain]
\titlepage
\end{frame}

\begin{frame}{\fontUbuntu The Team}
	\begin{itemize}
		\item \textit{Marco Iorio} \tab \hl{s239557} 
		\item \textit{Paolo Iannino} \tab \hl{s239562}
		\item \textit{Aldo Lacuku} \tab \hl{s204998}
		\item \textit{Kian Kamyab Masouleh} \tab \hl{s226140}
		\item \textit{Mehrnoosh Rigi Kanhari} \tab \hl{s236436}
	\end{itemize}
\end{frame}

\begin{frame}{\fontUbuntu Introduction}
	\begin{itemize}
		\item {\textit{CoIoTe Solver}} is a {\color[HTML]{26BF18} metaheuristic} composed by three main parts:
			\begin{itemize}
				\item An {\color[HTML]{26BF18} Inner Heuristic}. % based on a \textit{Greedy} approach.
				\item An \hl{Outer Heuristic}. % which manages multiple iterations of the \textit{Greedy}.
				\item An intermediate \hl{optimizing step}. % which improve the quality of the best solution found so far.
			\end{itemize}
		\item It cannot be associated with any of the heuristics explained during the course.
	\end{itemize}
\end{frame}

\begin{frame}{\fontUbuntu The \textit{Outer Heuristic}}
	\begin{itemize}
		\item It is in charge of doing the following tasks:
			\begin{enumerate}
				\item Producing a \hl{random sequence} corresponding to the visiting order of the cells.
				\item Applying the \hl{Inner Heuristic} on the sequence.
				\item Updating the current value of the \hl{Objective Function} if the current solution is the best found so far.
				\item \hl{Repeating} the tasks from point \hl{1} until there is enough time.
			\end{enumerate}
	\end{itemize}
\end{frame}

\begin{frame}{\fontUbuntu The \textit{Greedy}}
	\begin{itemize}
		\item It is the \hl{logical core} of our algorithm.
		\item It takes as input the random sequence generated by the \hl{Outer Heuristic}
		\item What it does, on each cell specified by the random sequence, is:
			\begin{enumerate}
				\item Considering the activities' demand for the given cell j.
				\item Finding the user i, t, m with the \hl{minimum cost} to move to the cell j.
				\item Assigning an appropiate number of user of type i, t, m to the cell j.
				\item Updating the number of available users and the remaining demand.
				\item \hl{Repeating} from step \hl{1} until all the requests in cell j are satisfied.
			\end{enumerate}
	\end{itemize}
\end{frame}

\begin{frame}{\fontUbuntu Algorithm's Tuning}
	\begin{itemize}
		\item \hl{Refinements} in the \textit{Greedy}'s logic.
		\item \hl{Parallelization} of our program.
		\item Development of an \hl{ad hoc data structure}.
		\item \hl{Sorting} of the costs.
		%\item Further \hl{optimizing step}.
	\end{itemize}
\end{frame}

\begin{frame} {\fontUbuntu Further Optimizing Step}
	\begin{itemize}
		\item It takes as input the solution computed by the \textit{Greedy}.
		\item Basic idea: trying to \hl{replace} some of the previously chosen users with \hl{cheaper combinations} of them.
		\item Implementation: 
			\begin{itemize}
				\item Quite sophisticated.
				\item Exploits the \hl{recursion} paradigm.
				\item Requires an \hl{ad hoc data structure} for storing users' moves.
			\end{itemize}
		\item In its development a remarkable role was played by the logic underlying the \textit{Tabu Search} metaheuristic.
	\end{itemize}
\end{frame}

\begin{frame}[fragile]{\fontUbuntu Pseudo-Code \#1}
	\begin{lstlisting}
GREEDY(sequence, available_users, cell_requests, user_activities) 
    
begin body                      	
	for(each_cell_in(sequence)) do                      		
		while(there_are(cell_requests)) do
			cheaper = find_cheaper(available_users)
		
							
			n_users = needed(cheaper, available_users, cell_requests)
							
			available_users -= n_users
			cell_requests -= n_users * user_activities
			current_solution += n_users 
		end while                      		
	end for

	return solution;
end body
	\end{lstlisting}
\end{frame}

%\begin{frame}[fragile]{\fontUbuntu Pseudo-Code \#2}
%	\begin{lstlisting}
%	OPTIMIZE(tmp_solution, solution){
%		if(more_than_5th_recursion_level){
%			if(tmp_solution.better_than(solution){
%				solution = tmp_solution;
%			}
%			return;
%		}	
%
%		for(each_chosen_move(tmp_solution)){
%			tmp_solution -= current_move;
%			remove_from_tabu_list(current_move);			
%			
%			new_move = substitute(current_move);
%					
%			if(not_in_tabu_list(new_move)){
%				insert_in_tabu_list(new_move);
%				OPTIMIZE(tmp_solution, solution);				
%			}
%		}
%	}
%		
%	\end{lstlisting}
%\end{frame}

\begin{frame}[fragile]{\fontUbuntu Pseudo-Code \#2}
	\begin{lstlisting}
for(each_thread) do
	while(still_time) do
		for(ten_times) do
			shuffle(sequence)	
			current_solution = GREEDY(sequence, available_users,                                                   
   									  cell_requests, user_activities)
                      
			if(current_solution.better_than(solution))
				then solution = current_solution
			end if                          
		end for
		
		if(is_feasible(solution))                       
			then OPTIMIZE(solution)
		end if
		
		if(is_best(solution))
			then best_solution = solution
		end if
	end while
end for
	\end{lstlisting}
\end{frame}

\begin{frame} {\fontUbuntu Our Results}
	\begin{itemize}
		\item Test set: 128 input files provided by the professor.
		\item Average execution time: {\color[HTML]{26BF18} 1.265 seconds}
		\item Percent error:
			\begin{itemize}
				\item In 124 cases: 0\% \quad {\color[HTML]{26BF18} \large \textbf{\textit{OPTIMUM IN 97\% OF CASES!}}}
				\item In 4 cases: $\bm{\leqslant}$ 0.1\%
			\end{itemize}
		\item Maximum percent error: 0.064\%
		\item Average percent error: {\color[HTML]{26BF18} 0.0014\%}
	\end{itemize}
	
	\bigskip
	\bigskip
	\bigskip
	\begin{flushright}
		\textit{\scriptsize Tested on Debian Stretch, Intel i7-860 @ 2.8 GHz with 8 GB Ram.}
	\end{flushright}

\end{frame}

\begin{frame}{\fontUbuntu Final Observations}
	\begin{itemize}
		\item For the given problem, a \textit{Greedy} approach combined with a source of \hl{entropy} and an \hl{efficient testing environment} leads to far better results compared to standard heuristics.
	\end{itemize}
\end{frame}

\begin{frame}{\fontUbuntu A Free Software}
	\begin{small}
	\begin{itemize}
		\item \textit{CoIoTe Solver} is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    		\item \textit{CoIoTe Solver} is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
   		\item You should have received a copy of the GNU General Public License
    along with \textit{CoIoTe Solver}.  If not, see <http://www.gnu.org/licenses/>.
    		\item You can download \textit{CoIoTe Solver} at the following link:
    		 	
    		 	\begin{center}
    		 		{\color[HTML]{26BF18} \url{https://github.com/giorio94/CoIoTeSolver}}    		 		
    		 	\end{center}   			 
	\end{itemize}
	\end{small}
\end{frame}

\begin{frame}
	\begin{center}
		{\huge \textbf{\textit{Thanks for listening!}}}
	\end{center}
\end{frame}

\end{document}
}